cmake_minimum_required(VERSION 3.0)
project(oglcxx)

set(OGLCXX_VALID_OGL_VERSIONS
	"3.0" "3.1" "3.2" "3.3"
	"4.0" "4.1" "4.2" "4.3" "4.5"
)

list(GET OGLCXX_VALID_OGL_VERSIONS 0  OGLCXX_MIN_POSSIBLE_SUPPORTED_VERSION)
list(GET OGLCXX_VALID_OGL_VERSIONS -1 OGLCXX_MAX_POSSIBLE_SUPPORTED_VERSION)

set(OGLCXX_BINARY OFF CACHE BOOL "Should oglcxx generate a binary library? Otherwise it's only a header file and GLEW must be apart of your project.")

set(OGLCXX_MIN_SUPPORTED_VERSION "3.0" CACHE STRING "Minimum supported OpenGL version liboglcxx should support. Less than ${OGLCXX_MIN_POSSIBLE_SUPPORTED_VERSION} is not supported.")

set(OGLCXX_MAX_SUPPORTED_VERSION "4.5" CACHE STRING "Maximum supported OpenGL version liboglcxx should support. More than ${OGLCXX_MAX_POSSIBLE_SUPPORTED_VERSION} is not supported at this time.")

set(OGLCXX_REQUIRED_EXTENSIONS "" CACHE STRING "List of required OpenGL extensions libglcxx should support.")

if(OGLCXX_BINARY EQUAL ON)
	add_definitions(-DOGL_BINARY)
endif()

set(OGLCXX_VALID_MIN_SUPPORTED_VERSION OFF)
set(OGLCXX_VALID_MAX_SUPPORTED_VERSION OFF)

foreach(OGL_VERSION RANGE OGLCXX_VALID_OGL_VERSIONS)
	
	if(OGL_VERSION EQUAL OGLCXX_MIN_SUPPORTED_VERSION)
		set(OGLCXX_VALID_MIN_SUPPORTED_VERSION ON)
	endif()
	
	if(OGL_VERSION EQUAL OGLCXX_MAX_SUPPORTED_VERSION)
		set(OGLCXX_VALID_MAX_SUPPORTED_VERSION ON)
	endif()
	
endforeach()

if(OGLCXX_VALID_MIN_SUPPORTED_VERSION EQUAL OFF)
	message(FATAL_ERROR "Invalid 'OGLCXX_MIN_SUPPORTED_VERSION' (${OGLCXX_MIN_SUPPORTED_VERSION})")
elseif(OGLCXX_VALID_MAX_SUPPORTED_VERSION EQUAL OFF)
	message(FATAL_ERROR "Invalid 'OGLCXX_MAX_SUPPORTED_VERSION' (${OGLCXX_MAX_SUPPORTED_VERSION})")
endif()

if(OGLCXX_MIN_SUPPORTED_VERSION VERSION_GREATER OGLCXX_MAX_SUPPORTED_VERSION)
	message(FATAL_ERROR "OGLCXX_MIN_SUPPORTED_VERSION (${OGLCXX_MIN_SUPPORTED_VERSION}) cannot be larger than OGLCXX_MAX_SUPPORTED_VERSION (${OGLCXX_MAX_SUPPORTED_VERSION})")
endif()

